<md-toolbar *ngIf="!toolbarProperties.hidden" class="mat-elevation-z5" color="primary">
  <div fxLayout="row" fxLayoutAlign="start center" fxFlexFill>
    <button caVibration *ngIf="!toolbarProperties.backEnabled && !searchActivated" md-icon-button
            (click)="toggleSidenav.emit()">
      <md-icon>menu</md-icon>
    </button>
    <button caVibration *ngIf="toolbarProperties.backEnabled" md-icon-button (click)="navigateBack()">
      <md-icon>arrow_back</md-icon>
    </button>
    <md-icon *ngIf="searchActivated">search</md-icon>
    <div fxFlex="100" *ngIf="!searchActivated">
      {{toolbarProperties.title || ''}}
    </div>
    <div fxFlex="100" *ngIf="searchActivated" class="app-toolbar-search-container">
      <input class="app-toolbar-search" type="text" [(ngModel)]="toolbarProperties.searchText"
             (ngModelChange)="searchTextChanged()"
             placeholder="search..." #search
             (blur)="!(toolbarProperties.searchText && toolbarProperties.searchText.length) && toggleSearch(false)">
    </div>
    <button caVibration md-icon-button *ngIf="toolbarProperties.searchEnabled && searchActivated"
            (click)="toggleSearch(false)">
      <md-icon>close</md-icon>
    </button>
    <button caVibration md-icon-button *ngIf="toolbarProperties.searchEnabled && !searchActivated"
            (click)="toggleSearch(true)">
      <md-icon>search</md-icon>
    </button>
    <button caVibration *ngIf="toolbarProperties.submitAction" md-icon-button
            [disabled]="toolbarProperties.submitDisabled"
            (click)="toolbarProperties.submitAction()">
      <md-icon>check</md-icon>
    </button>
  </div>
</md-toolbar>
